var RecipeExplorer={lastRecipeId:null,recipeId:null,firstLoaded:false,initTabs:function(){jQuery(".kb-recipe-container").each(function(){jQuery(this).find(".kb-btn-dig-in").click(function(a){RecipeExplorer.recipeId=jQuery(this).closest(".kb-recipe-container").attr("recipe-id");RecipeExplorer.show();if(RecipeExplorer.recipeId!=RecipeExplorer.lastRecipeId){var b=server_url+"/analyzer/explorer/explore?id="+RecipeExplorer.recipeId+"&"+Math.ceil(Math.random()*50000);RecipeExplorer.firstLoaded=true;jQuery(".kb-recipe-explorer-placeholder").show();jQuery("#kb-recipe-explorer-iframe").hide();jQuery("#kb-recipe-explorer-iframe").attr("src",b);setTimeout(function(){jQuery(".kb-recipe-explorer-loading").hide();jQuery(".kb-recipe-explorer-timeout").show()},8000)}})});jQuery(".kb-recipe-explorer-close-btn").click(function(a){RecipeExplorer.close()});jQuery("#kb-recipe-explorer-iframe").load(function(a){if(RecipeExplorer.recipeId!=RecipeExplorer.lastRecipeId&&RecipeExplorer.firstLoaded!==false){RecipeExplorer.lastRecipeId=RecipeExplorer.recipeId;jQuery(".kb-recipe-explorer-placeholder").hide();jQuery("#kb-recipe-explorer-iframe").show()}})},show:function(){var a=jQuery(document).scrollTop();var c=jQuery(window).height();var b=a+(c/2);ScreenOverlay.show();jQuery(".kb-recipe-explorer").css("top",b+"px").show();jQuery(document).bind("keyup","esc",RecipeExplorer.close)},close:function(){ScreenOverlay.hide();jQuery(".kb-recipe-explorer").hide();jQuery(document).unbind("keyup",RecipeExplorer.close)}};